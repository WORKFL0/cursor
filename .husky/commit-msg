#!/usr/bin/env sh
. "$(dirname -- "$0")/_/husky.sh"

echo "üîç Validating commit message..."

# Check commit message format (conventional commits)
commit_regex='^\w+(\(.+\))?\!?: .+'

if ! grep -qE "$commit_regex" "$1"; then
  echo "‚ùå Invalid commit message format!"
  echo "Please use conventional commits format:"
  echo "  feat: add new feature"
  echo "  fix: fix bug"
  echo "  docs: update documentation"
  echo "  style: update styling"
  echo "  refactor: refactor code"
  echo "  test: add tests"
  echo "  chore: update build process"
  echo ""
  echo "Example: feat(auth): add login functionality"
  exit 1
fi

echo "‚úÖ Commit message format is valid!"